% V. 4.4
% update 27/02/2023
\ProvidesPackage{lambdatex}

%% Fundamental packages
    \RequirePackage[utf8]{inputenc}                             %for text encoding
    \RequirePackage[T1]{fontenc}    %font completi
    \RequirePackage[italian]{babel}                             %for language elements
    \RequirePackage[a4paper, portrait, margin=2cm]{geometry}    %paper shape
    
%% Header
    \RequirePackage{fancyhdr}
    \pagestyle{fancy}

%% Figures
    \RequirePackage{graphicx}                                   %for adding figures
    \RequirePackage{wrapfig}                                    %figures alignment
    \RequirePackage{subcaption}                                 %for subfigures

%% Tables
    \RequirePackage{array}                                      %table management
    \RequirePackage{longtable}                                  %multiple page tables
    \RequirePackage{multirow}                                   %colspan and rowspan

%% Excercizes
    \usepackage{tasks}
    \usepackage{exsheets}

%% Tikz
    \RequirePackage{tikz}
    \usetikzlibrary{calc}                                       %Calcs in coordinates
    \usetikzlibrary{arrows}                                     %required by ggb
    \RequirePackage{pgfplots}                                   %Plots (required by ggb)
    \pgfplotsset{compat=1.15}                                   %Corrects compilation warning
    %\usetikzlibrary{trees}                                     %Tree schemes
    \RequirePackage{standalone}                                 %external matlab tikz files
    
%% Links
    \RequirePackage{url}                                       %clickable links
    \RequirePackage{hyperref}                                      %toc links

%% Symbols and Fonts
    \RequirePackage{amsfonts}                                   %per simboli insiemi numerici
    \RequirePackage{amsmath}                                    %per coefficienti binomiali
    \RequirePackage{amssymb}                                    %per simbolo insieme vuoto \varnothing
    \RequirePackage{yhmath}                                         %arco con \wideparen{AB}
    \RequirePackage{cancel}                                         %cancel per barrare elementi
    \RequirePackage{esint}                                          %integrali particolari (e.g. \fint)

    \DeclareFontFamily{OT1}{pzc}{}                          %per avere mathpzc che è meglio di mathcal perchè ha le minuscole
    \DeclareFontShape{OT1}{pzc}{m}{it}%
    {<-> s * [1.15] pzcmi7t}{}
    \DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
%% Symbols definitions
    \newcommand\parallelo{{/\!/}}                                 %simbolo parallelismo
    \newcommand\sen{\operatorname{sen}}                         %seno
    \renewcommand\sin{\operatorname{sen}}                       %seno
    \newcommand\senh{\operatorname{senh}}                         %seno iperbolico
    \renewcommand\sinh{\operatorname{senh}}                       %seno iperbolico
    \newcommand\arcsen{\operatorname{arcsen}}                   %arcoseno
    \renewcommand\arcsin{\operatorname{arcsen}}                 %arcoseno
    \newcommand\tg{\operatorname{tg}}                           %tangente
    \newcommand\cotg{\operatorname{cotg}}                       %cotangente
    \newcommand\arctg{\operatorname{arctg}}                     %arcotangente
    \newcommand\arccotg{\operatorname{arccotg}}                 %arcocotangente
    \newcommand\deq{\overset{\mathrm{def}}{=}}                  %uguale definizione
    \renewcommand\Im{\operatorname{Im}}                         %Parte immaginaria
    \renewcommand\Re{\operatorname{Re}}                         %Parte immaginaria
    \newcommand\dom{\operatorname{dom}}                         %dominio
    \newcommand{\rk}{\operatorname{rk}}                         %rango
    \renewcommand*{\d}{\:\text{d}}                              %differential
    %arrows
    \newcommand\Harr{\Leftrightarrow}                           %se e solo se
    \newcommand\Larr{\Leftarrow}
    \newcommand\Rarr{\Rightarrow}
    % Number sets
    \newcommand\N{\mathbb{N}}
    \newcommand\Z{\mathbb{Z}}
    \newcommand\Q{\mathbb{Q}}
    \newcommand\R{\mathbb{R}}
    \newcommand\C{\mathbb{C}}
    %Fields
    \newcommand\K{\mathbb{K}}

%% Macros
    \newcommand{\funcdef}[5]{                                   %def funzioni f: X \to Y , x \mapsto f(x)
        \begin{array}{cccl}
            #1 : & #2 & \longrightarrow & #3 \\
                 & #4 & \longmapsto     & #5
        \end{array}
        }

%% Graphics
    \RequirePackage{xcolor}                                     %Custom colors
    \RequirePackage{mdframed}                                   %Boxes (shaded theorems, ...)
    %\everymath{\displaystyle}
    \input{insbox}                                              %Boxes for minipage
    \RequirePackage[most]{tcolorbox}                %example boxes
    \tcbuselibrary{skins}

%% Text format
    \RequirePackage{enumitem}          %modifying enumerations
    \RequirePackage{dirtytalk}              %quotes
    

%% Frames
    \newenvironment{shaded}%
    {\begin{mdframed}[backgroundcolor=lightgray!40, linecolor=white, innertopmargin=4pt, innerbottommargin=13pt]}%
    {\end{mdframed}}

    \newenvironment{lineframe}%
    {\begin{mdframed}[linecolor=black, innertopmargin=0pt, innerbottommargin=10pt]}%
    {\end{mdframed}}

%% Text boxes
    \newenvironment{focus}[1][Focus]
    {\begin{mdframed}[linecolor=black, innertopmargin=8pt, innerbottommargin=10pt]\textbf{\large #1.}\vspace{3pt}\\}
    {\end{mdframed}}

%% Theorems
    \RequirePackage{amsthm}                                     %per teoremi non numerati
    \renewcommand\qedsymbol{QED}                                %QED Symbol
    % Definitions - Unnumbered
    
    \theoremstyle{definition} %stile con testo normale
    \newtheorem*{definition}{DEF}
    
    \theoremstyle{remark}
    \newtheorem*{oss}{Osservazione}
    \newtheorem*{ricorda}{Ricorda}
    
    \theoremstyle{plain} %stile con testo italico
    \newtheorem*{theorem}{Teorema}
    \newtheorem*{law}{Legge}
    \newtheorem*{lemma}{Lemma}
    \newtheorem*{corollary*}{Corollario}
    % Definitions - numbered
    \newtheorem{exc}{Esercizio}[section]
    \newtheorem{axiom}{Assioma}
    \newtheorem{corollary}{Corollario}
    %Definitions - shaded/boxed (requires mdframed)
    \newenvironment{shadedTheorem}%
      {\begin{mdframed}[backgroundcolor=lightgray!40, linecolor=white, innertopmargin=4pt, innerbottommargin=13pt]\begin{theorem}}%
      {\end{theorem}\end{mdframed}}

    \newenvironment{boxdef}{\begin{lineframe}\begin{definition}}{\end{definition}\end{lineframe}}



    \newtcolorbox[auto counter,number within=section]{esempio}
        {title={\textbf{Esempio \thetcbcounter.}},
        coltitle=teal,
        colbacktitle=white,
        skin=bicolor,
        colbacklower=white,
        colback=teal!20!white,
        colframe=teal, 
        breakable,
        arc=0mm, 
        rightrule=0mm,
        toprule=0mm,
        titlerule=0mm,
        }

    \newenvironment{ex}[1][testo]{
        \begin{esempio}
        \textit{#1}
        \tcblower
    }{
        \end{esempio}
    }

    \newtcolorbox{esempio*}
        {title={\textbf{Esempio.}},
        coltitle=teal,
        colbacktitle=white,
        skin=bicolor,
        colbacklower=white,
        colback=teal!20!white,
        colframe=teal, 
        breakable,
        arc=0mm, 
        rightrule=0mm,
        toprule=0mm,
        titlerule=0mm,
        }

    \newenvironment{ex*}[1][testo]{
        \begin{esempio*}
        \textit{#1}
        \tcblower
    }{
        \end{esempio*}
    }

    
    
    %plain Theorem, Lemma, Corollary, Proposition, Conjecture, Criterion, Assertion
    %definition Definition, Condition, Problem, Example, Exercise, Algorithm, Question, Axiom, Property, Assumption, Hypothesis
    %remark Remark, Note, Notation, Claim, Summary, Acknowledgment, Case, Conclusion
    

%% Meme
\newcommand{\christmaswedge}{{\displaystyle \color{teal} \bigwedge^{{\color{yellow} \star}}}{\color{red}\!\!\!\!\!\!\!\;\cdot \!\!\;\dot ~.}}


%%Creative Commons

\newcommand{\creativecommons}{
    \begin{center}
        \rule{0.9\linewidth}{0.5pt}\\
        This work is licensed under CC BY-NC-ND 4.0. To view a copy of this license, visit \url{http://creativecommons.org/licenses/by-nc-nd/4.0/}
        \\
        \href{http://creativecommons.org/licenses/by-nc-nd/4.0/}{\includegraphics[height=1cm]{CreativeCommons/by-nc-nd.png}}
    \end{center}
}